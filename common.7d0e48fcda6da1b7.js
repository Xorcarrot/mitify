"use strict";(self.webpackChunkmitify=self.webpackChunkmitify||[]).push([[592],{5132:(c,l,p)=>{p.d(l,{U:()=>o});var a=p(2443),d=p(5017),h=p(1135),_=p(9374),n=p(4650),e=p(2820);class o extends d.o2{constructor(t){super(),this.reportService=t,this.reports$=new h.X([]),this.isLoading$=new h.X(!1),this.reportsClosed$=new h.X([]),this.isLoadingClosed$=new h.X(!1)}connect(){return this.reports$.asObservable()}disconnect(){this.reports$.complete()}loadReports(){this.isLoading$.next(!0),this.reportService.fetchReports().subscribe(t=>{this.reports$.next(t),this.isLoading$.next(!1)})}getReportArray(){this.loadReports();const t=[];return this.reports$.subscribe(i=>{i.forEach(r=>{t.push(r.error_report.page>0?new _.T(r.error_report.reportType,r.error_report.module,r.error_report.description,r.error_report.page,r.error_report.chapter,r.error_report.illustrationNumber,r.error_report.tableNumber,r.error_report.id,r.error_report.status,r.error_report.priority,r.error_report.author,r.error_report.eMail,r.error_report.report_date,r.error_report.granted_date,r.error_report.completed_date):new a._(r.error_report.reportType,r.error_report.module,r.error_report.description,r.error_report.videoTitle,r.error_report.timestampStart,r.error_report.timestampEnd,r.error_report.videoURL,r.error_report.id,r.error_report.status,r.error_report.priority,r.error_report.author,r.error_report.eMail,r.error_report.report_date,r.error_report.granted_date,r.error_report.completed_date))})}),t}loadClosedReports(){this.isLoadingClosed$.next(!0),this.reportService.fetchClosedReports().subscribe(t=>{this.reportsClosed$.next(t),this.isLoadingClosed$.next(!1)})}getClosedReportArray(){this.loadClosedReports();const t=[];return this.reportsClosed$.subscribe(i=>{i.forEach(r=>{t.push(r.error_report.page>0?new _.T(r.error_report.reportType,r.error_report.module,r.error_report.description,r.error_report.page,r.error_report.chapter,r.error_report.illustrationNumber,r.error_report.tableNumber,r.error_report.id,r.error_report.status,r.error_report.priority,r.error_report.author,r.error_report.eMail,r.error_report.report_date,r.error_report.granted_date,r.error_report.completed_date):new a._(r.error_report.reportType,r.error_report.module,r.error_report.description,r.error_report.videoTitle,r.error_report.timestampStart,r.error_report.timestampEnd,r.error_report.videoURL,r.error_report.id,r.error_report.status,r.error_report.priority,r.error_report.author,r.error_report.eMail,r.error_report.report_date,r.error_report.granted_date,r.error_report.completed_date))})}),t}}o.\u0275fac=function(t){return new(t||o)(n.LFG(e.r))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})},2820:(c,l,p)=>{p.d(l,{r:()=>_});var a=p(529),d=p(4650),h=p(5370);class _{constructor(e,o){this.http=e,this.userData=o,this.errorReportUrl="https://fathomless-eyrie-95662.herokuapp.com/api/v1/error_reports",this.skriptReportUrl="https://fathomless-eyrie-95662.herokuapp.com/api/v1/skript_reports",this.videoReportUrl="https://fathomless-eyrie-95662.herokuapp.com/api/v1/video_reports"}fetchReports(){let e=(new a.WM).set("Authorization",this.userData.token);return this.http.get(this.errorReportUrl,{headers:e})}fetchClosedReports(){let e=(new a.WM).set("Authorization",this.userData.token);return this.http.get(this.errorReportUrl+"?status=abgeschlossen",{headers:e})}changeSkriptStaus(e,o,s,t){const i=this.skriptReportUrl+"/"+e;let r={skript_report:{status:o,granted_date:s,completed_date:t}},u=(new a.WM).set("Authorization",this.userData.token);return this.http.patch(i,r,{headers:u})}changeSkriptPriority(e,o){const s=this.skriptReportUrl+"/"+e;let t={skript_report:{priority:o}},i=(new a.WM).set("Authorization",this.userData.token);return this.http.patch(s,t,{headers:i})}changeVideoStatus(e,o,s,t){const i=this.videoReportUrl+"/"+e;let r={video_report:{status:o,granted_date:s,completed_date:t}},u=(new a.WM).set("Authorization",this.userData.token);return this.http.patch(i,r,{headers:u})}changeVideoPriority(e,o){const s=this.videoReportUrl+"/"+e;let t={video_report:{priority:o}},i=(new a.WM).set("Authorization",this.userData.token);return this.http.patch(s,t,{headers:i})}deleteSkript(e){const o=this.skriptReportUrl+"/"+e;let s=(new a.WM).set("Authorization",this.userData.token);return this.http.delete(o,{headers:s})}deleteVideo(e){const o=this.videoReportUrl+"/"+e;let s=(new a.WM).set("Authorization",this.userData.token);return this.http.delete(o,{headers:s})}}_.\u0275fac=function(e){return new(e||_)(d.LFG(a.eN),d.LFG(h.M))},_.\u0275prov=d.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}}]);